var t=function(t,e){void 0===e&&(e={}),this.data=t,this.query=""};t.prototype.where=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.makeAnd(),"function"==typeof t[0]?(this.query+="(",t[0](this),this.query+=")"):1===t.length?this.query+="(item."+t[0]+")":2===t.length?this.query+="(item."+t[0]+" == "+("string"==typeof t[1]?"'"+t[1]+"'":t[1])+")":3===t.length&&(this.query+="(item."+t[0]+" "+t[1]+" "+("string"==typeof t[2]?"'"+t[2]+"'":t[2])+")"),this},t.prototype.orWhere=function(){for(var t,e=[],i=arguments.length;i--;)e[i]=arguments[i];return this.query+=" || ",(t=this).where.apply(t,e)},t.prototype.whereIncludes=function(t,e,i){return void 0===i&&(i=null),this.makeAnd(),null==i?(this.query+="(item."+t+" ? item."+t+".includes('"+e+"') : false)",this):(this.query+="(item."+t+" ? item."+t+".some(element => element."+e+" === '"+i+"') : false)",this)},t.prototype.orWhereIncludes=function(t,e,i){return void 0===i&&(i=null),this.query+=" || ",this.whereIncludes(t,e,i),this},t.prototype.whereContains=function(t,e){return this.makeAnd(),this.query+="(item."+t+" ? item."+t+".toLowerCase().includes('"+e.toLowerCase()+"') : false)",this},t.prototype.orWhereContains=function(t,e){return this.query+=" || ",this.whereContains(t,e),this},t.prototype.whereIn=function(t,e){return this.makeAnd(),this.query+="(item."+t+" ? ['"+e.join("', '")+"'].includes(item."+t+") : false)",this},t.prototype.orWhereIn=function(t,e){return this.query+=" || ",this.whereIn(t,e),this},t.prototype.makeAnd=function(){this.query.slice(-1).includes(")")&&(this.query+=" && ")},t.prototype.stripEmpties=function(){this.query=this.query.replace(/&& \(\)/g,""),this.query=this.query.replace(/\(\)&&/g,""),this.query=this.query.replace(/\(\) &&/g,"")},t.prototype.get=function(){var t=this;return this.stripEmpties(),this.data.filter(function(e){return new Function("item",'"use strict";return '+t.query+";")(e)})};export{t as FilterBuilder};
//# sourceMappingURL=index.mjs.map
