class e{constructor(e){this.data=e,this.query=""}where(...e){return this.makeAnd(),"function"==typeof e[0]?(this.query+="(",e[0](this),this.query+=")"):1===e.length?this.query+=`(item.${e[0]})`:2===e.length?this.query+=`(item.${e[0]} == ${"string"==typeof e[1]?'"'+e[1]+'"':e[1]})`:3===e.length&&(this.query+=`(item.${e[0]} ${e[1]} ${"string"==typeof e[2]?'"'+e[2]+'"':e[2]})`),this}orWhere(...e){return this.query+=" || ",this.where(...e)}whereIncludes(e,t,s=null){return this.makeAnd(),null==s?(this.query+=`(item.${e} ? item.${e}.includes('${t}') : false)`,this):(this.query+=`(item.${e} ? item.${e}.some(element => element.${t} === '${s}') : false)`,this)}orWhereIncludes(e,t,s=null){return this.query+=" || ",this.whereIncludes(e,t,s),this}whereContains(e,t){return this.makeAnd(),this.query+=`(item.${e} ? item.${e}.toLowerCase().includes('${t.toLowerCase()}') : false)`,this}orWhereContains(e,t){return this.query+=" || ",this.whereContains(e,t),this}whereIn(e,t){return this.makeAnd(),this.query+=`(item.${e} ? ['${t.join('", "')}'].includes('' + item.${e}) : false)`,this}orWhereIn(e,t){return this.query+=" || ",this.whereIn(e,t),this}makeAnd(){this.query.slice(-1).includes(")")&&(this.query+=" && ")}stripEmpties(){this.query=this.query.replace(/&& \(\)/g,""),this.query=this.query.replace(/\(\)\s\s&&/g,""),this.query=this.query.replace(/\(\)\s&&/g,"")}get(){return this.stripEmpties(),this.data.filter(e=>new Function("item",`'use strict';return ${this.query};`)(e))}}export{e as default};
//# sourceMappingURL=index.modern.js.map
